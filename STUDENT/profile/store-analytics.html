<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Store Analytics - Poly Shop</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Global nav -->
  <link rel="stylesheet" href="../community/style.css" />
  <!-- Page CSS -->
  <link rel="stylesheet" href="store-analytics.css" />
  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
</head>
<body>

  <!-- Top Nav -->
  <header class="page-header">
  <a href="profile.html" class="back-btn"><i class="fa fa-arrow-left"></i></a>
  <h2>Page Title</h2>
  <span></span>
  </header>


  <!-- Store Profile Card -->
  <!-- ==========================
     ðŸª Store Card (Redesigned)
========================== -->
<section class="store-card">
  <div class="store-left">
    <img id="storeLogo" src="../../img/logo.jpeg" alt="Store Logo" />
  </div>
  <div class="store-details">
    <h3 id="storeName">Loading...</h3>
    <p id="storeTagline" class="tagline">Your tagline here...</p>
    <p class="about"><span id="storeAbout">About store...</span></p>
    <p class="info">
      <i class="fa fa-phone"></i> <span id="storePhone">...</span> &nbsp; | &nbsp;
      <i class="fa fa-layer-group"></i> <span id="storeCategory">...</span>
    </p>
    <p class="info">
      <i class="fa fa-id-card"></i> <span id="accHolder">...</span>
    </p>
  </div>
  <div class="store-actions">
    <button id="editStore" class="btn purple"><i class="fa fa-pen"></i> Edit</button>
  </div>
</section>


  <!-- Dashboard Summary -->
  <section class="dashboard-summary">
    <div class="summary-card">
      <h4>Total Sales</h4>
      <p id="metricSales">RM0</p>
    </div>
    <div class="summary-card">
      <h4>Total Orders</h4>
      <p id="metricOrders">0</p>
    </div>
    <div class="summary-card">
      <h4>Pending</h4>
      <p id="metricPending">0</p>
    </div>
    <div class="summary-card">
      <h4>Completed</h4>
      <p id="metricCompleted">0</p>
    </div>
  </section>

  <!-- Orders Section -->
  <section class="orders-section">
    <h3><i class="fa fa-shopping-bag"></i> Orders</h3>
    <div id="ordersList">
      <!-- Order cards injected here -->
    </div>
  </section>

  <!-- Products Section -->
  <section class="products-section">
    <div class="title-row">
      <h3><i class="fa fa-boxes"></i> My Products</h3>
      <button class="btn purple" id="addProductBtn"><i class="fa fa-plus"></i> Add Product</button>
    </div>
    <div id="productsGrid" class="products-grid">
      <!-- Product cards injected here -->
    </div>
  </section>

  <!-- Proof Modal (shared) -->
  <div class="proof-modal" id="proofModal">
    <div class="proof-content">
      <span class="close">&times;</span>
      <h3>Payment Proof</h3>
      <img id="proofImage" src="" alt="Proof" />
      <iframe id="proofPdf" src="" style="display:none;" width="100%" height="400"></iframe>
    </div>
  </div>

  <!-- Edit Store Modal -->
  <div class="modal" id="editModal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h3>Edit Store</h3>
      <form id="editForm">
        <label>Store Name</label>
        <input type="text" id="editName" />
        <label>Tagline</label>
        <input type="text" id="editTagline" />
        <label>About</label>
        <textarea id="editAbout" rows="3"></textarea>
        <label>WhatsApp / Phone</label>
        <input type="text" id="editPhone" />
        <div class="row-2">
          <div>
            <label>Account Holder</label>
            <input type="text" id="editAccHolder" />
          </div>
          <div>
            <label>Category</label>
            <select id="editCategory">
              <option value="Food">Food</option>
              <option value="Clothes">Clothes</option>
              <option value="Gadgets">Gadgets</option>
              <option value="Others">Others</option>
            </select>
          </div>
        </div>
        <button type="submit" class="btn purple full">Save Changes</button>
      </form>
    </div>
  </div>

  <!-- Product Form Modal -->
<!-- =============================
     ðŸ›ï¸ Add Product Modal
============================= -->
<div id="productModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h3>Add New Product</h3>
    <form id="productForm">
      <label>Product Name</label>
      <input type="text" id="pName" required>

      <label>Description</label>
      <textarea id="pDesc" rows="2"></textarea>

      <label>Price (RM)</label>
      <input type="number" id="pPrice" min="0" step="0.01" required>

      <label>Stock</label>
      <input type="number" id="pStock" min="0" required>

      <label>Category</label>
      <select id="pCategory">
        <option value="Food">Food</option>
        <option value="Fashion">Fashion</option>
        <option value="Stationery">Stationery</option>
        <option value="Electronics">Electronics</option>
        <option value="Other">Other</option>
      </select>

      <label>Product Image</label>
      <input type="file" id="pImage" accept="image/*" required>

      <button type="submit" class="btn save-btn">
        <i class="fa fa-save"></i> Add Product
      </button>
    </form>
  </div>
</div>



  <div class="modal" id="editModal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h3>Edit Store</h3>
    <form id="editForm"> ... </form>
  </div>
</div>

  <!-- Bottom Nav -->
  <nav class="bottom-nav">
    <a href="../community/index.html" class="nav-item"><i class="fa fa-users"></i><span>Community</span></a>
    <a href="../home/home.html" class="nav-item"><i class="fa fa-home"></i><span>Home</span></a>
    <a href="../post/post.html" class="nav-item"><i class="fa fa-plus-circle"></i><span>Post</span></a>
    <a href="../shop/shop.html" class="nav-item"><i class="fa fa-store"></i><span>Shop</span></a>
    <a href="../profile/profile.html" class="nav-item active"><i class="fa fa-user"></i><span>Profile</span></a>
  </nav>

<!-- âœ… Firebase SDK v8 (Correct Order) -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>

<!-- âœ… Your Firebase Config -->
<script src="../../firebase-config.js"></script>

<!-- âœ… Page Script -->
<script src="store-analytics.js"></script>

</body>
</html>
